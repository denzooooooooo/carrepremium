{"ast":null,"code":"var _jsxFileName = \"/Users/mkpagnon/Desktop/carrepremium/carre-premium-frontend/src/components/flights/FlightResults.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useLanguage } from '../../contexts/LanguageContext';\nimport { useCurrency } from '../../contexts/CurrencyContext';\nimport { useCart } from '../../contexts/CartContext';\nimport { flightService } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightResults = ({\n  results,\n  loading,\n  searchParams\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    t\n  } = useLanguage();\n  const {\n    formatPrice\n  } = useCurrency();\n  const {\n    addToCart\n  } = useCart();\n\n  // Fonction de formatage des vols\n  const formatFlight = (flightOffer, index) => {\n    var _flightOffer$itinerar, _flightOffer$itinerar2, _flightOffer$validati, _flightOffer$itinerar3;\n    const firstSegment = flightOffer.itineraries[0].segments[0];\n    const lastSegment = flightOffer.itineraries[0].segments.slice(-1)[0];\n    const returnSegment = (_flightOffer$itinerar = flightOffer.itineraries[1]) === null || _flightOffer$itinerar === void 0 ? void 0 : _flightOffer$itinerar.segments[0];\n    const returnLastSegment = (_flightOffer$itinerar2 = flightOffer.itineraries[1]) === null || _flightOffer$itinerar2 === void 0 ? void 0 : _flightOffer$itinerar2.segments.slice(-1)[0];\n    return {\n      id: flightOffer.id || `flight-${index}`,\n      airline: ((_flightOffer$validati = flightOffer.validatingAirlineCodes) === null || _flightOffer$validati === void 0 ? void 0 : _flightOffer$validati[0]) || 'Airline',\n      logo: '✈️',\n      from: firstSegment.departure.iataCode,\n      to: lastSegment.arrival.iataCode,\n      departure: new Date(firstSegment.departure.at).toLocaleTimeString('fr-FR', {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      arrival: new Date(lastSegment.arrival.at).toLocaleTimeString('fr-FR', {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      duration: flightOffer.itineraries[0].duration.replace('PT', '').toLowerCase(),\n      date: firstSegment.departure.at.split('T')[0],\n      stops: flightOffer.itineraries[0].segments.length === 1 ? 'Direct' : `${flightOffer.itineraries[0].segments.length - 1} escale(s)`,\n      // Vol retour si disponible\n      returnDeparture: returnSegment ? new Date(returnSegment.departure.at).toLocaleTimeString('fr-FR', {\n        hour: '2-digit',\n        minute: '2-digit'\n      }) : null,\n      returnArrival: returnLastSegment ? new Date(returnLastSegment.arrival.at).toLocaleTimeString('fr-FR', {\n        hour: '2-digit',\n        minute: '2-digit'\n      }) : null,\n      returnDuration: (_flightOffer$itinerar3 = flightOffer.itineraries[1]) === null || _flightOffer$itinerar3 === void 0 ? void 0 : _flightOffer$itinerar3.duration.replace('PT', '').toLowerCase(),\n      returnDate: returnSegment === null || returnSegment === void 0 ? void 0 : returnSegment.departure.at.split('T')[0],\n      returnStops: flightOffer.itineraries[1] ? flightOffer.itineraries[1].segments.length === 1 ? 'Direct' : `${flightOffer.itineraries[1].segments.length - 1} escale(s)` : null,\n      economyPrice: Math.round(parseFloat(flightOffer.price.total) * 100),\n      businessPrice: Math.round(parseFloat(flightOffer.price.total) * 100 * 1.5),\n      firstClassPrice: Math.round(parseFloat(flightOffer.price.total) * 100 * 2),\n      availableSeats: flightOffer.numberOfBookableSeats || 9,\n      flightOffer: flightOffer\n    };\n  };\n  const getPrice = flight => {\n    var _searchParams$travelC;\n    const travelClass = (searchParams === null || searchParams === void 0 ? void 0 : (_searchParams$travelC = searchParams.travelClass) === null || _searchParams$travelC === void 0 ? void 0 : _searchParams$travelC.toLowerCase()) || 'economy';\n    switch (travelClass) {\n      case 'business':\n        return flight.businessPrice;\n      case 'first':\n        return flight.firstClassPrice;\n      default:\n        return flight.economyPrice;\n    }\n  };\n  const handleAddToCart = async flight => {\n    try {\n      const confirmedOffer = await flightService.confirmPrice(flight.flightOffer);\n      addToCart({\n        id: flight.id,\n        type: 'flight',\n        name: `${flight.from} → ${flight.to}`,\n        airline: flight.airline,\n        date: flight.date,\n        returnDate: flight.returnDate,\n        departure: flight.departure,\n        class: (searchParams === null || searchParams === void 0 ? void 0 : searchParams.travelClass) || 'ECONOMY',\n        passengers: ((searchParams === null || searchParams === void 0 ? void 0 : searchParams.adults) || 1) + ((searchParams === null || searchParams === void 0 ? void 0 : searchParams.children) || 0) + ((searchParams === null || searchParams === void 0 ? void 0 : searchParams.infants) || 0),\n        price: getPrice(flight),\n        flightOffer: (confirmedOffer === null || confirmedOffer === void 0 ? void 0 : confirmedOffer.data) || confirmedOffer\n      });\n    } catch (err) {\n      console.error('Erreur confirmation prix:', err);\n      alert('Erreur lors de la confirmation du prix. Veuillez réessayer.');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center py-20\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-16 w-16 border-t-4 border-purple-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"ml-4 text-xl text-gray-600\",\n        children: t('searching', 'Recherche en cours...')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n  if (!results || !results.data || results.data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-20 bg-white rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-plane-slash text-6xl text-gray-400 mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-2xl font-bold text-gray-700 mb-2\",\n        children: t('noFlightsFound', 'Aucun vol trouvé')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: t('tryModifyingSearch', 'Essayez de modifier vos critères de recherche')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n  const flights = results.data.map((offer, index) => formatFlight(offer, index));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6 bg-white rounded-xl shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-3xl font-bold text-gray-800\",\n          children: [flights.length, \" \", t('flightsFound', 'vol(s) trouvé(s)')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mt-1\",\n          children: t('realTimeResults', 'Résultats en temps réel')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: t('sortBy', 'Trier par')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"price\",\n            children: t('price', 'Prix')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"duration\",\n            children: t('duration', 'Durée')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"departure\",\n            children: t('departureTime', 'Heure de départ')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), flights.map(flight => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-3xl font-bold text-gray-800\",\n                  children: flight.departure\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-semibold text-gray-600 mt-1\",\n                  children: flight.from\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: flight.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 px-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium text-gray-600\",\n                    children: flight.duration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border-t-2 border-gray-300 relative\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plane absolute -top-3 left-1/2 transform -translate-x-1/2 text-purple-600 text-xl\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center mt-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500 bg-gray-100 px-3 py-1 rounded-full\",\n                    children: flight.stops\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-3xl font-bold text-gray-800\",\n                  children: flight.arrival\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-lg font-semibold text-gray-600 mt-1\",\n                  children: flight.to\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: flight.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 flex items-center gap-2 text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plane text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: flight.airline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right ml-8 pl-8 border-l-2 border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: t('from', 'À partir de')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-4xl font-bold text-purple-600 mb-1\",\n              children: formatPrice(getPrice(flight))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-chair mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), flight.availableSeats, \" \", t('seatsLeft', 'siège(s) restant(s)')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => navigate(`/flights/${flight.id}`, {\n                  state: {\n                    flight\n                  }\n                }),\n                className: \"btn btn-outline\",\n                children: \"D\\xE9tails\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleAddToCart(flight),\n                className: \"btn btn-primary\",\n                children: \"R\\xE9server\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), flight.returnDeparture && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 pt-6 border-t-2 border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-exchange-alt text-purple-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold text-gray-700\",\n              children: t('returnFlight', 'Vol retour')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: flight.returnDeparture\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-semibold text-gray-600\",\n                children: flight.to\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 px-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-sm text-gray-600\",\n                children: flight.returnDuration\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-t-2 border-gray-300 my-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-xs text-gray-500\",\n                children: flight.returnStops\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: flight.returnArrival\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-semibold text-gray-600\",\n                children: flight.from\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)\n    }, flight.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-info-circle text-blue-500 text-xl mt-1 mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-blue-800\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [t('note', 'Note'), \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), \" \", t('pricesRealTime', 'Les prix affichés sont en temps réel et peuvent varier. Cliquez sur un vol pour voir les détails complets et finaliser votre réservation.')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightResults, \"UKnFRQsEVLASWaGezBs/PSe2DXI=\", false, function () {\n  return [useNavigate, useLanguage, useCurrency, useCart];\n});\n_c = FlightResults;\nexport default FlightResults;\nvar _c;\n$RefreshReg$(_c, \"FlightResults\");","map":{"version":3,"names":["React","useNavigate","useLanguage","useCurrency","useCart","flightService","jsxDEV","_jsxDEV","FlightResults","results","loading","searchParams","_s","navigate","t","formatPrice","addToCart","formatFlight","flightOffer","index","_flightOffer$itinerar","_flightOffer$itinerar2","_flightOffer$validati","_flightOffer$itinerar3","firstSegment","itineraries","segments","lastSegment","slice","returnSegment","returnLastSegment","id","airline","validatingAirlineCodes","logo","from","departure","iataCode","to","arrival","Date","at","toLocaleTimeString","hour","minute","duration","replace","toLowerCase","date","split","stops","length","returnDeparture","returnArrival","returnDuration","returnDate","returnStops","economyPrice","Math","round","parseFloat","price","total","businessPrice","firstClassPrice","availableSeats","numberOfBookableSeats","getPrice","flight","_searchParams$travelC","travelClass","handleAddToCart","confirmedOffer","confirmPrice","type","name","class","passengers","adults","children","infants","data","err","console","error","alert","className","fileName","_jsxFileName","lineNumber","columnNumber","flights","map","offer","value","onClick","state","_c","$RefreshReg$"],"sources":["/Users/mkpagnon/Desktop/carrepremium/carre-premium-frontend/src/components/flights/FlightResults.jsx"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useLanguage } from '../../contexts/LanguageContext';\nimport { useCurrency } from '../../contexts/CurrencyContext';\nimport { useCart } from '../../contexts/CartContext';\nimport { flightService } from '../../services/api';\n\nconst FlightResults = ({ results, loading, searchParams }) => {\n  const navigate = useNavigate();\n  const { t } = useLanguage();\n  const { formatPrice } = useCurrency();\n  const { addToCart } = useCart();\n\n  // Fonction de formatage des vols\n  const formatFlight = (flightOffer, index) => {\n    const firstSegment = flightOffer.itineraries[0].segments[0];\n    const lastSegment = flightOffer.itineraries[0].segments.slice(-1)[0];\n    const returnSegment = flightOffer.itineraries[1]?.segments[0];\n    const returnLastSegment = flightOffer.itineraries[1]?.segments.slice(-1)[0];\n    \n    return {\n      id: flightOffer.id || `flight-${index}`,\n      airline: flightOffer.validatingAirlineCodes?.[0] || 'Airline',\n      logo: '✈️',\n      from: firstSegment.departure.iataCode,\n      to: lastSegment.arrival.iataCode,\n      departure: new Date(firstSegment.departure.at).toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),\n      arrival: new Date(lastSegment.arrival.at).toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }),\n      duration: flightOffer.itineraries[0].duration.replace('PT', '').toLowerCase(),\n      date: firstSegment.departure.at.split('T')[0],\n      stops: flightOffer.itineraries[0].segments.length === 1 ? 'Direct' : `${flightOffer.itineraries[0].segments.length - 1} escale(s)`,\n      \n      // Vol retour si disponible\n      returnDeparture: returnSegment ? new Date(returnSegment.departure.at).toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }) : null,\n      returnArrival: returnLastSegment ? new Date(returnLastSegment.arrival.at).toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' }) : null,\n      returnDuration: flightOffer.itineraries[1]?.duration.replace('PT', '').toLowerCase(),\n      returnDate: returnSegment?.departure.at.split('T')[0],\n      returnStops: flightOffer.itineraries[1] ? (flightOffer.itineraries[1].segments.length === 1 ? 'Direct' : `${flightOffer.itineraries[1].segments.length - 1} escale(s)`) : null,\n      \n      economyPrice: Math.round(parseFloat(flightOffer.price.total) * 100),\n      businessPrice: Math.round(parseFloat(flightOffer.price.total) * 100 * 1.5),\n      firstClassPrice: Math.round(parseFloat(flightOffer.price.total) * 100 * 2),\n      availableSeats: flightOffer.numberOfBookableSeats || 9,\n      flightOffer: flightOffer\n    };\n  };\n\n  const getPrice = (flight) => {\n    const travelClass = searchParams?.travelClass?.toLowerCase() || 'economy';\n    switch (travelClass) {\n      case 'business': return flight.businessPrice;\n      case 'first': return flight.firstClassPrice;\n      default: return flight.economyPrice;\n    }\n  };\n\n  const handleAddToCart = async (flight) => {\n    try {\n      const confirmedOffer = await flightService.confirmPrice(flight.flightOffer);\n      addToCart({\n        id: flight.id,\n        type: 'flight',\n        name: `${flight.from} → ${flight.to}`,\n        airline: flight.airline,\n        date: flight.date,\n        returnDate: flight.returnDate,\n        departure: flight.departure,\n        class: searchParams?.travelClass || 'ECONOMY',\n        passengers: (searchParams?.adults || 1) + (searchParams?.children || 0) + (searchParams?.infants || 0),\n        price: getPrice(flight),\n        flightOffer: confirmedOffer?.data || confirmedOffer\n      });\n    } catch (err) {\n      console.error('Erreur confirmation prix:', err);\n      alert('Erreur lors de la confirmation du prix. Veuillez réessayer.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-20\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-purple-600\"></div>\n        <p className=\"ml-4 text-xl text-gray-600\">{t('searching', 'Recherche en cours...')}</p>\n      </div>\n    );\n  }\n\n  if (!results || !results.data || results.data.length === 0) {\n    return (\n      <div className=\"text-center py-20 bg-white rounded-2xl shadow-lg\">\n        <i className=\"fas fa-plane-slash text-6xl text-gray-400 mb-4\"></i>\n        <h3 className=\"text-2xl font-bold text-gray-700 mb-2\">\n          {t('noFlightsFound', 'Aucun vol trouvé')}\n        </h3>\n        <p className=\"text-gray-500\">\n          {t('tryModifyingSearch', 'Essayez de modifier vos critères de recherche')}\n        </p>\n      </div>\n    );\n  }\n\n  const flights = results.data.map((offer, index) => formatFlight(offer, index));\n\n  return (\n    <div className=\"space-y-6\">\n      {/* En-tête des résultats */}\n      <div className=\"flex justify-between items-center mb-6 bg-white rounded-xl shadow-md p-6\">\n        <div>\n          <h3 className=\"text-3xl font-bold text-gray-800\">\n            {flights.length} {t('flightsFound', 'vol(s) trouvé(s)')}\n          </h3>\n          <p className=\"text-gray-600 mt-1\">\n            {t('realTimeResults', 'Résultats en temps réel')}\n          </p>\n        </div>\n        <div className=\"text-right\">\n          <p className=\"text-sm text-gray-500\">{t('sortBy', 'Trier par')}</p>\n          <select className=\"mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\">\n            <option value=\"price\">{t('price', 'Prix')}</option>\n            <option value=\"duration\">{t('duration', 'Durée')}</option>\n            <option value=\"departure\">{t('departureTime', 'Heure de départ')}</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Liste des vols */}\n      {flights.map((flight) => (\n        <div\n          key={flight.id}\n          className=\"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300\"\n        >\n          <div className=\"p-6\">\n            {/* Vol aller */}\n            <div className=\"flex items-center justify-between\">\n              {/* Informations de vol */}\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-8\">\n                  {/* Départ */}\n                  <div className=\"text-center\">\n                    <div className=\"text-3xl font-bold text-gray-800\">\n                      {flight.departure}\n                    </div>\n                    <div className=\"text-lg font-semibold text-gray-600 mt-1\">\n                      {flight.from}\n                    </div>\n                    <div className=\"text-sm text-gray-500\">\n                      {flight.date}\n                    </div>\n                  </div>\n                  \n                  {/* Durée et escales */}\n                  <div className=\"flex-1 px-4\">\n                    <div className=\"text-center mb-2\">\n                      <span className=\"text-sm font-medium text-gray-600\">\n                        {flight.duration}\n                      </span>\n                    </div>\n                    <div className=\"relative\">\n                      <div className=\"border-t-2 border-gray-300 relative\">\n                        <i className=\"fas fa-plane absolute -top-3 left-1/2 transform -translate-x-1/2 text-purple-600 text-xl\"></i>\n                      </div>\n                    </div>\n                    <div className=\"text-center mt-2\">\n                      <span className=\"text-xs text-gray-500 bg-gray-100 px-3 py-1 rounded-full\">\n                        {flight.stops}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  {/* Arrivée */}\n                  <div className=\"text-center\">\n                    <div className=\"text-3xl font-bold text-gray-800\">\n                      {flight.arrival}\n                    </div>\n                    <div className=\"text-lg font-semibold text-gray-600 mt-1\">\n                      {flight.to}\n                    </div>\n                    <div className=\"text-sm text-gray-500\">\n                      {flight.date}\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Compagnie aérienne */}\n                <div className=\"mt-4 flex items-center gap-2 text-gray-600\">\n                  <i className=\"fas fa-plane text-purple-600\"></i>\n                  <span className=\"font-medium\">{flight.airline}</span>\n                </div>\n              </div>\n              \n              {/* Prix et action */}\n              <div className=\"text-right ml-8 pl-8 border-l-2 border-gray-200\">\n                <div className=\"mb-2\">\n                  <span className=\"text-sm text-gray-500\">{t('from', 'À partir de')}</span>\n                </div>\n                <div className=\"text-4xl font-bold text-purple-600 mb-1\">\n                  {formatPrice(getPrice(flight))}\n                </div>\n                <div className=\"text-sm text-gray-500 mb-4\">\n                  <i className=\"fas fa-chair mr-1\"></i>\n                  {flight.availableSeats} {t('seatsLeft', 'siège(s) restant(s)')}\n                </div>\n                <div className=\"flex gap-2\">\n                  <button \n                    onClick={() => navigate(`/flights/${flight.id}`, { state: { flight } })}\n                    className=\"btn btn-outline\"\n                  >\n                    Détails\n                  </button>\n                  <button \n                    onClick={() => handleAddToCart(flight)}\n                    className=\"btn btn-primary\"\n                  >\n                    Réserver\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Vol retour si disponible */}\n            {flight.returnDeparture && (\n              <div className=\"mt-6 pt-6 border-t-2 border-gray-100\">\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <i className=\"fas fa-exchange-alt text-purple-600\"></i>\n                  <span className=\"font-semibold text-gray-700\">{t('returnFlight', 'Vol retour')}</span>\n                </div>\n                <div className=\"flex items-center gap-8\">\n                  {/* Départ retour */}\n                  <div className=\"text-center\">\n                    <div className=\"text-2xl font-bold text-gray-800\">\n                      {flight.returnDeparture}\n                    </div>\n                    <div className=\"text-sm font-semibold text-gray-600\">\n                      {flight.to}\n                    </div>\n                  </div>\n                  \n                  {/* Durée retour */}\n                  <div className=\"flex-1 px-4\">\n                    <div className=\"text-center text-sm text-gray-600\">\n                      {flight.returnDuration}\n                    </div>\n                    <div className=\"border-t-2 border-gray-300 my-2\"></div>\n                    <div className=\"text-center text-xs text-gray-500\">\n                      {flight.returnStops}\n                    </div>\n                  </div>\n                  \n                  {/* Arrivée retour */}\n                  <div className=\"text-center\">\n                    <div className=\"text-2xl font-bold text-gray-800\">\n                      {flight.returnArrival}\n                    </div>\n                    <div className=\"text-sm font-semibold text-gray-600\">\n                      {flight.from}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      ))}\n\n      {/* Message informatif */}\n      <div className=\"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg\">\n        <div className=\"flex items-start\">\n          <i className=\"fas fa-info-circle text-blue-500 text-xl mt-1 mr-3\"></i>\n          <div>\n            <p className=\"text-sm text-blue-800\">\n              <strong>{t('note', 'Note')}:</strong> {t('pricesRealTime', 'Les prix affichés sont en temps réel et peuvent varier. Cliquez sur un vol pour voir les détails complets et finaliser votre réservation.')}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FlightResults; "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,gCAAgC;AAC5D,SAASC,WAAW,QAAQ,gCAAgC;AAC5D,SAASC,OAAO,QAAQ,4BAA4B;AACpD,SAASC,aAAa,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,aAAa,GAAGA,CAAC;EAAEC,OAAO;EAAEC,OAAO;EAAEC;AAAa,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEa;EAAE,CAAC,GAAGZ,WAAW,CAAC,CAAC;EAC3B,MAAM;IAAEa;EAAY,CAAC,GAAGZ,WAAW,CAAC,CAAC;EACrC,MAAM;IAAEa;EAAU,CAAC,GAAGZ,OAAO,CAAC,CAAC;;EAE/B;EACA,MAAMa,YAAY,GAAGA,CAACC,WAAW,EAAEC,KAAK,KAAK;IAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,qBAAA,EAAAC,sBAAA;IAC3C,MAAMC,YAAY,GAAGN,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC;IAC3D,MAAMC,WAAW,GAAGT,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,MAAMC,aAAa,IAAAT,qBAAA,GAAGF,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,cAAAL,qBAAA,uBAA1BA,qBAAA,CAA4BM,QAAQ,CAAC,CAAC,CAAC;IAC7D,MAAMI,iBAAiB,IAAAT,sBAAA,GAAGH,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,cAAAJ,sBAAA,uBAA1BA,sBAAA,CAA4BK,QAAQ,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAE3E,OAAO;MACLG,EAAE,EAAEb,WAAW,CAACa,EAAE,IAAI,UAAUZ,KAAK,EAAE;MACvCa,OAAO,EAAE,EAAAV,qBAAA,GAAAJ,WAAW,CAACe,sBAAsB,cAAAX,qBAAA,uBAAlCA,qBAAA,CAAqC,CAAC,CAAC,KAAI,SAAS;MAC7DY,IAAI,EAAE,IAAI;MACVC,IAAI,EAAEX,YAAY,CAACY,SAAS,CAACC,QAAQ;MACrCC,EAAE,EAAEX,WAAW,CAACY,OAAO,CAACF,QAAQ;MAChCD,SAAS,EAAE,IAAII,IAAI,CAAChB,YAAY,CAACY,SAAS,CAACK,EAAE,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC;MAClHL,OAAO,EAAE,IAAIC,IAAI,CAACb,WAAW,CAACY,OAAO,CAACE,EAAE,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC;MAC7GC,QAAQ,EAAE3B,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,CAACoB,QAAQ,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACC,WAAW,CAAC,CAAC;MAC7EC,IAAI,EAAExB,YAAY,CAACY,SAAS,CAACK,EAAE,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC7CC,KAAK,EAAEhC,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACyB,MAAM,KAAK,CAAC,GAAG,QAAQ,GAAG,GAAGjC,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACyB,MAAM,GAAG,CAAC,YAAY;MAElI;MACAC,eAAe,EAAEvB,aAAa,GAAG,IAAIW,IAAI,CAACX,aAAa,CAACO,SAAS,CAACK,EAAE,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC,GAAG,IAAI;MAChJS,aAAa,EAAEvB,iBAAiB,GAAG,IAAIU,IAAI,CAACV,iBAAiB,CAACS,OAAO,CAACE,EAAE,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;QAAEC,IAAI,EAAE,SAAS;QAAEC,MAAM,EAAE;MAAU,CAAC,CAAC,GAAG,IAAI;MACpJU,cAAc,GAAA/B,sBAAA,GAAEL,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,cAAAF,sBAAA,uBAA1BA,sBAAA,CAA4BsB,QAAQ,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACC,WAAW,CAAC,CAAC;MACpFQ,UAAU,EAAE1B,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEO,SAAS,CAACK,EAAE,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACrDO,WAAW,EAAEtC,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,GAAIP,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACyB,MAAM,KAAK,CAAC,GAAG,QAAQ,GAAG,GAAGjC,WAAW,CAACO,WAAW,CAAC,CAAC,CAAC,CAACC,QAAQ,CAACyB,MAAM,GAAG,CAAC,YAAY,GAAI,IAAI;MAE9KM,YAAY,EAAEC,IAAI,CAACC,KAAK,CAACC,UAAU,CAAC1C,WAAW,CAAC2C,KAAK,CAACC,KAAK,CAAC,GAAG,GAAG,CAAC;MACnEC,aAAa,EAAEL,IAAI,CAACC,KAAK,CAACC,UAAU,CAAC1C,WAAW,CAAC2C,KAAK,CAACC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;MAC1EE,eAAe,EAAEN,IAAI,CAACC,KAAK,CAACC,UAAU,CAAC1C,WAAW,CAAC2C,KAAK,CAACC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;MAC1EG,cAAc,EAAE/C,WAAW,CAACgD,qBAAqB,IAAI,CAAC;MACtDhD,WAAW,EAAEA;IACf,CAAC;EACH,CAAC;EAED,MAAMiD,QAAQ,GAAIC,MAAM,IAAK;IAAA,IAAAC,qBAAA;IAC3B,MAAMC,WAAW,GAAG,CAAA3D,YAAY,aAAZA,YAAY,wBAAA0D,qBAAA,GAAZ1D,YAAY,CAAE2D,WAAW,cAAAD,qBAAA,uBAAzBA,qBAAA,CAA2BtB,WAAW,CAAC,CAAC,KAAI,SAAS;IACzE,QAAQuB,WAAW;MACjB,KAAK,UAAU;QAAE,OAAOF,MAAM,CAACL,aAAa;MAC5C,KAAK,OAAO;QAAE,OAAOK,MAAM,CAACJ,eAAe;MAC3C;QAAS,OAAOI,MAAM,CAACX,YAAY;IACrC;EACF,CAAC;EAED,MAAMc,eAAe,GAAG,MAAOH,MAAM,IAAK;IACxC,IAAI;MACF,MAAMI,cAAc,GAAG,MAAMnE,aAAa,CAACoE,YAAY,CAACL,MAAM,CAAClD,WAAW,CAAC;MAC3EF,SAAS,CAAC;QACRe,EAAE,EAAEqC,MAAM,CAACrC,EAAE;QACb2C,IAAI,EAAE,QAAQ;QACdC,IAAI,EAAE,GAAGP,MAAM,CAACjC,IAAI,MAAMiC,MAAM,CAAC9B,EAAE,EAAE;QACrCN,OAAO,EAAEoC,MAAM,CAACpC,OAAO;QACvBgB,IAAI,EAAEoB,MAAM,CAACpB,IAAI;QACjBO,UAAU,EAAEa,MAAM,CAACb,UAAU;QAC7BnB,SAAS,EAAEgC,MAAM,CAAChC,SAAS;QAC3BwC,KAAK,EAAE,CAAAjE,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAE2D,WAAW,KAAI,SAAS;QAC7CO,UAAU,EAAE,CAAC,CAAAlE,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEmE,MAAM,KAAI,CAAC,KAAK,CAAAnE,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEoE,QAAQ,KAAI,CAAC,CAAC,IAAI,CAAApE,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEqE,OAAO,KAAI,CAAC,CAAC;QACtGnB,KAAK,EAAEM,QAAQ,CAACC,MAAM,CAAC;QACvBlD,WAAW,EAAE,CAAAsD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAES,IAAI,KAAIT;MACvC,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOU,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;MAC/CG,KAAK,CAAC,6DAA6D,CAAC;IACtE;EACF,CAAC;EAED,IAAI3E,OAAO,EAAE;IACX,oBACEH,OAAA;MAAK+E,SAAS,EAAC,wCAAwC;MAAAP,QAAA,gBACrDxE,OAAA;QAAK+E,SAAS,EAAC;MAAkE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACxFnF,OAAA;QAAG+E,SAAS,EAAC,4BAA4B;QAAAP,QAAA,EAAEjE,CAAC,CAAC,WAAW,EAAE,uBAAuB;MAAC;QAAAyE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpF,CAAC;EAEV;EAEA,IAAI,CAACjF,OAAO,IAAI,CAACA,OAAO,CAACwE,IAAI,IAAIxE,OAAO,CAACwE,IAAI,CAAC9B,MAAM,KAAK,CAAC,EAAE;IAC1D,oBACE5C,OAAA;MAAK+E,SAAS,EAAC,kDAAkD;MAAAP,QAAA,gBAC/DxE,OAAA;QAAG+E,SAAS,EAAC;MAAgD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClEnF,OAAA;QAAI+E,SAAS,EAAC,uCAAuC;QAAAP,QAAA,EAClDjE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;MAAC;QAAAyE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACLnF,OAAA;QAAG+E,SAAS,EAAC,eAAe;QAAAP,QAAA,EACzBjE,CAAC,CAAC,oBAAoB,EAAE,+CAA+C;MAAC;QAAAyE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAEV;EAEA,MAAMC,OAAO,GAAGlF,OAAO,CAACwE,IAAI,CAACW,GAAG,CAAC,CAACC,KAAK,EAAE1E,KAAK,KAAKF,YAAY,CAAC4E,KAAK,EAAE1E,KAAK,CAAC,CAAC;EAE9E,oBACEZ,OAAA;IAAK+E,SAAS,EAAC,WAAW;IAAAP,QAAA,gBAExBxE,OAAA;MAAK+E,SAAS,EAAC,0EAA0E;MAAAP,QAAA,gBACvFxE,OAAA;QAAAwE,QAAA,gBACExE,OAAA;UAAI+E,SAAS,EAAC,kCAAkC;UAAAP,QAAA,GAC7CY,OAAO,CAACxC,MAAM,EAAC,GAAC,EAACrC,CAAC,CAAC,cAAc,EAAE,kBAAkB,CAAC;QAAA;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrD,CAAC,eACLnF,OAAA;UAAG+E,SAAS,EAAC,oBAAoB;UAAAP,QAAA,EAC9BjE,CAAC,CAAC,iBAAiB,EAAE,yBAAyB;QAAC;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACNnF,OAAA;QAAK+E,SAAS,EAAC,YAAY;QAAAP,QAAA,gBACzBxE,OAAA;UAAG+E,SAAS,EAAC,uBAAuB;UAAAP,QAAA,EAAEjE,CAAC,CAAC,QAAQ,EAAE,WAAW;QAAC;UAAAyE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnEnF,OAAA;UAAQ+E,SAAS,EAAC,qFAAqF;UAAAP,QAAA,gBACrGxE,OAAA;YAAQuF,KAAK,EAAC,OAAO;YAAAf,QAAA,EAAEjE,CAAC,CAAC,OAAO,EAAE,MAAM;UAAC;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eACnDnF,OAAA;YAAQuF,KAAK,EAAC,UAAU;YAAAf,QAAA,EAAEjE,CAAC,CAAC,UAAU,EAAE,OAAO;UAAC;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAC1DnF,OAAA;YAAQuF,KAAK,EAAC,WAAW;YAAAf,QAAA,EAAEjE,CAAC,CAAC,eAAe,EAAE,iBAAiB;UAAC;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGLC,OAAO,CAACC,GAAG,CAAExB,MAAM,iBAClB7D,OAAA;MAEE+E,SAAS,EAAC,6EAA6E;MAAAP,QAAA,eAEvFxE,OAAA;QAAK+E,SAAS,EAAC,KAAK;QAAAP,QAAA,gBAElBxE,OAAA;UAAK+E,SAAS,EAAC,mCAAmC;UAAAP,QAAA,gBAEhDxE,OAAA;YAAK+E,SAAS,EAAC,QAAQ;YAAAP,QAAA,gBACrBxE,OAAA;cAAK+E,SAAS,EAAC,yBAAyB;cAAAP,QAAA,gBAEtCxE,OAAA;gBAAK+E,SAAS,EAAC,aAAa;gBAAAP,QAAA,gBAC1BxE,OAAA;kBAAK+E,SAAS,EAAC,kCAAkC;kBAAAP,QAAA,EAC9CX,MAAM,CAAChC;gBAAS;kBAAAmD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACd,CAAC,eACNnF,OAAA;kBAAK+E,SAAS,EAAC,0CAA0C;kBAAAP,QAAA,EACtDX,MAAM,CAACjC;gBAAI;kBAAAoD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC,eACNnF,OAAA;kBAAK+E,SAAS,EAAC,uBAAuB;kBAAAP,QAAA,EACnCX,MAAM,CAACpB;gBAAI;kBAAAuC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAGNnF,OAAA;gBAAK+E,SAAS,EAAC,aAAa;gBAAAP,QAAA,gBAC1BxE,OAAA;kBAAK+E,SAAS,EAAC,kBAAkB;kBAAAP,QAAA,eAC/BxE,OAAA;oBAAM+E,SAAS,EAAC,mCAAmC;oBAAAP,QAAA,EAChDX,MAAM,CAACvB;kBAAQ;oBAAA0C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACZ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACNnF,OAAA;kBAAK+E,SAAS,EAAC,UAAU;kBAAAP,QAAA,eACvBxE,OAAA;oBAAK+E,SAAS,EAAC,qCAAqC;oBAAAP,QAAA,eAClDxE,OAAA;sBAAG+E,SAAS,EAAC;oBAA0F;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzG;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACNnF,OAAA;kBAAK+E,SAAS,EAAC,kBAAkB;kBAAAP,QAAA,eAC/BxE,OAAA;oBAAM+E,SAAS,EAAC,0DAA0D;oBAAAP,QAAA,EACvEX,MAAM,CAAClB;kBAAK;oBAAAqC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAGNnF,OAAA;gBAAK+E,SAAS,EAAC,aAAa;gBAAAP,QAAA,gBAC1BxE,OAAA;kBAAK+E,SAAS,EAAC,kCAAkC;kBAAAP,QAAA,EAC9CX,MAAM,CAAC7B;gBAAO;kBAAAgD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACZ,CAAC,eACNnF,OAAA;kBAAK+E,SAAS,EAAC,0CAA0C;kBAAAP,QAAA,EACtDX,MAAM,CAAC9B;gBAAE;kBAAAiD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACP,CAAC,eACNnF,OAAA;kBAAK+E,SAAS,EAAC,uBAAuB;kBAAAP,QAAA,EACnCX,MAAM,CAACpB;gBAAI;kBAAAuC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGNnF,OAAA;cAAK+E,SAAS,EAAC,4CAA4C;cAAAP,QAAA,gBACzDxE,OAAA;gBAAG+E,SAAS,EAAC;cAA8B;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChDnF,OAAA;gBAAM+E,SAAS,EAAC,aAAa;gBAAAP,QAAA,EAAEX,MAAM,CAACpC;cAAO;gBAAAuD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGNnF,OAAA;YAAK+E,SAAS,EAAC,iDAAiD;YAAAP,QAAA,gBAC9DxE,OAAA;cAAK+E,SAAS,EAAC,MAAM;cAAAP,QAAA,eACnBxE,OAAA;gBAAM+E,SAAS,EAAC,uBAAuB;gBAAAP,QAAA,EAAEjE,CAAC,CAAC,MAAM,EAAE,aAAa;cAAC;gBAAAyE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtE,CAAC,eACNnF,OAAA;cAAK+E,SAAS,EAAC,yCAAyC;cAAAP,QAAA,EACrDhE,WAAW,CAACoD,QAAQ,CAACC,MAAM,CAAC;YAAC;cAAAmB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC,eACNnF,OAAA;cAAK+E,SAAS,EAAC,4BAA4B;cAAAP,QAAA,gBACzCxE,OAAA;gBAAG+E,SAAS,EAAC;cAAmB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACpCtB,MAAM,CAACH,cAAc,EAAC,GAAC,EAACnD,CAAC,CAAC,WAAW,EAAE,qBAAqB,CAAC;YAAA;cAAAyE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D,CAAC,eACNnF,OAAA;cAAK+E,SAAS,EAAC,YAAY;cAAAP,QAAA,gBACzBxE,OAAA;gBACEwF,OAAO,EAAEA,CAAA,KAAMlF,QAAQ,CAAC,YAAYuD,MAAM,CAACrC,EAAE,EAAE,EAAE;kBAAEiE,KAAK,EAAE;oBAAE5B;kBAAO;gBAAE,CAAC,CAAE;gBACxEkB,SAAS,EAAC,iBAAiB;gBAAAP,QAAA,EAC5B;cAED;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACTnF,OAAA;gBACEwF,OAAO,EAAEA,CAAA,KAAMxB,eAAe,CAACH,MAAM,CAAE;gBACvCkB,SAAS,EAAC,iBAAiB;gBAAAP,QAAA,EAC5B;cAED;gBAAAQ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAGLtB,MAAM,CAAChB,eAAe,iBACrB7C,OAAA;UAAK+E,SAAS,EAAC,sCAAsC;UAAAP,QAAA,gBACnDxE,OAAA;YAAK+E,SAAS,EAAC,8BAA8B;YAAAP,QAAA,gBAC3CxE,OAAA;cAAG+E,SAAS,EAAC;YAAqC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACvDnF,OAAA;cAAM+E,SAAS,EAAC,6BAA6B;cAAAP,QAAA,EAAEjE,CAAC,CAAC,cAAc,EAAE,YAAY;YAAC;cAAAyE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnF,CAAC,eACNnF,OAAA;YAAK+E,SAAS,EAAC,yBAAyB;YAAAP,QAAA,gBAEtCxE,OAAA;cAAK+E,SAAS,EAAC,aAAa;cAAAP,QAAA,gBAC1BxE,OAAA;gBAAK+E,SAAS,EAAC,kCAAkC;gBAAAP,QAAA,EAC9CX,MAAM,CAAChB;cAAe;gBAAAmC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpB,CAAC,eACNnF,OAAA;gBAAK+E,SAAS,EAAC,qCAAqC;gBAAAP,QAAA,EACjDX,MAAM,CAAC9B;cAAE;gBAAAiD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGNnF,OAAA;cAAK+E,SAAS,EAAC,aAAa;cAAAP,QAAA,gBAC1BxE,OAAA;gBAAK+E,SAAS,EAAC,mCAAmC;gBAAAP,QAAA,EAC/CX,MAAM,CAACd;cAAc;gBAAAiC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC,eACNnF,OAAA;gBAAK+E,SAAS,EAAC;cAAiC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACvDnF,OAAA;gBAAK+E,SAAS,EAAC,mCAAmC;gBAAAP,QAAA,EAC/CX,MAAM,CAACZ;cAAW;gBAAA+B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAGNnF,OAAA;cAAK+E,SAAS,EAAC,aAAa;cAAAP,QAAA,gBAC1BxE,OAAA;gBAAK+E,SAAS,EAAC,kCAAkC;gBAAAP,QAAA,EAC9CX,MAAM,CAACf;cAAa;gBAAAkC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB,CAAC,eACNnF,OAAA;gBAAK+E,SAAS,EAAC,qCAAqC;gBAAAP,QAAA,EACjDX,MAAM,CAACjC;cAAI;gBAAAoD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC,GApIDtB,MAAM,CAACrC,EAAE;MAAAwD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAqIX,CACN,CAAC,eAGFnF,OAAA;MAAK+E,SAAS,EAAC,sDAAsD;MAAAP,QAAA,eACnExE,OAAA;QAAK+E,SAAS,EAAC,kBAAkB;QAAAP,QAAA,gBAC/BxE,OAAA;UAAG+E,SAAS,EAAC;QAAoD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtEnF,OAAA;UAAAwE,QAAA,eACExE,OAAA;YAAG+E,SAAS,EAAC,uBAAuB;YAAAP,QAAA,gBAClCxE,OAAA;cAAAwE,QAAA,GAASjE,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,EAAC,GAAC;YAAA;cAAAyE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAAC5E,CAAC,CAAC,gBAAgB,EAAE,2IAA2I,CAAC;UAAA;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC9E,EAAA,CA9QIJ,aAAa;EAAA,QACAP,WAAW,EACdC,WAAW,EACDC,WAAW,EACbC,OAAO;AAAA;AAAA6F,EAAA,GAJzBzF,aAAa;AAgRnB,eAAeA,aAAa;AAAC,IAAAyF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}